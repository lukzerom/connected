{"ast":null,"code":"var _jsxFileName = \"/Users/lukaszzeromski/Desktop/conntected/connected/client/src/components/pages/AddVehicle.jsx\";\nimport React, { useEffect, useContext, useState } from \"react\";\nimport AuthContext from \"../../context/auth/authContext\";\nimport CarContext from \"../../context/cars/carContext\";\nimport AlertContext from \"../../context/alert/alertContext\";\nimport AddCircleIcon from \"@material-ui/icons/AddCircle\";\nimport { Box, Grid, Paper, TextField, Typography, Divider, Select, MenuItem, InputLabel, FormControl, Button } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport ChargerIcon from \"../layout/ChargerIcon\";\nimport AddToPhotosIcon from \"@material-ui/icons/AddToPhotos\";\nconst useStyles = makeStyles(() => ({\n  stationsWrapper: {\n    backgroundColor: \"#f5f5f5\",\n    minHeight: \"100vh\",\n    width: \"100%\"\n  },\n  topPanel: {\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    margin: \"1rem\"\n  },\n  paper: {\n    marginTop: \"2rem\",\n    width: \"100%\",\n    height: \"90vh\",\n    display: \"flex\",\n    justifyContent: \"space-around\"\n  },\n  inner: {\n    padding: \"1rem\"\n  },\n  divider: {\n    margin: \"1rem 0\"\n  },\n  inputs: {\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    margin: \"1rem 0\"\n  },\n  formControl: {\n    width: \"50%\"\n  },\n  select: {\n    width: \"12rem\"\n  },\n  button: {\n    width: \"50%\"\n  },\n  miniPluginWrapper: {\n    display: \"flex\",\n    flexDirection: \"row\"\n  },\n  miniPlugin: {\n    height: \"3rem\"\n  },\n  buttons: {\n    display: \"flex\",\n    justifyContent: \"space-between\"\n  }\n}));\n\nconst AddVehicle = props => {\n  const authContext = useContext(AuthContext);\n  const alertContext = useContext(AlertContext);\n  const carContext = useContext(CarContext);\n  const classes = useStyles();\n  const {\n    setAlert\n  } = alertContext;\n  const {\n    addCar\n  } = carContext;\n  useEffect(() => {\n    authContext.loadUser(); //eslint-disable-next-line\n  }, []);\n  const [state, setState] = useState({\n    brand: \"\",\n    model: \"\",\n    registration: \"\",\n    plugin: \"\",\n    plugins: [],\n    errors: false\n  });\n  const {\n    brand,\n    model,\n    registration,\n    plugins,\n    errors,\n    plugin\n  } = state;\n\n  const onChange = e => {\n    setState({ ...state,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handleSubmit = () => {\n    if (!brand || !model || !registration || plugins.length === 0) {\n      setState({ ...state,\n        errors: true\n      });\n      return setAlert(\"Please provide required informations\", \"error\");\n    }\n\n    const car = {\n      brand,\n      model,\n      registration,\n      plugins,\n      errors\n    };\n    addCar(car);\n    props.history.push(\"/my-vehicles\");\n    setState({\n      brand: \"\",\n      model: \"\",\n      registration: \"\",\n      plugins: [],\n      plugin: \"\",\n      errors: false\n    });\n  };\n\n  const handlePushPlugin = () => {\n    if (plugins.length >= 2) {\n      return setAlert(\"Your vehicle can have maximum 2 plugins\", \"error\");\n    }\n\n    let pluginsPush = plugins;\n    pluginsPush.push(plugin);\n    setState({ ...state,\n      plugins: pluginsPush,\n      plugin: \"\"\n    });\n  };\n\n  const handleClearPlugins = () => {\n    setState({ ...state,\n      plugins: []\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(Box, {\n    className: classes.stationsWrapper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    justify: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    justify: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Paper, {\n    className: classes.paper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 10,\n    className: classes.inner,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    className: classes.inputs,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 19\n    }\n  }, \"Provide your vehicle details\"), /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    onClick: handleSubmit,\n    startIcon: /*#__PURE__*/React.createElement(AddCircleIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 32\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 19\n    }\n  }, \"Add Vehicle\")), /*#__PURE__*/React.createElement(Divider, {\n    className: classes.divider,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Box, {\n    className: classes.inputs,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    required: true,\n    id: \"outlined-required\",\n    label: \"Brand\",\n    name: \"brand\",\n    value: brand,\n    onChange: onChange,\n    variant: \"outlined\",\n    error: errors && !brand,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    required: true,\n    error: errors && !model,\n    id: \"outlined-required\",\n    label: \"Model\",\n    name: \"model\",\n    value: model,\n    onChange: onChange,\n    variant: \"outlined\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(Box, {\n    className: classes.inputs,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(FormControl, {\n    variant: \"outlined\",\n    className: classes.formControl,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(InputLabel, {\n    required: true,\n    id: \"plugin-type\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 21\n    }\n  }, \"Plugin\"), /*#__PURE__*/React.createElement(Select, {\n    error: errors && plugins.length <= 0,\n    labelId: \"plugin-type\",\n    id: \"plugin-type\",\n    label: \"Plugin\",\n    name: \"plugin\",\n    value: plugin,\n    onChange: onChange,\n    className: classes.select,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(MenuItem, {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"em\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 25\n    }\n  }, \"None\")), /*#__PURE__*/React.createElement(MenuItem, {\n    value: \"American_Standard\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 23\n    }\n  }, \"American Standard\"), /*#__PURE__*/React.createElement(MenuItem, {\n    value: \"Euro_Standard\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 23\n    }\n  }, \"Euro Standard\"), /*#__PURE__*/React.createElement(MenuItem, {\n    value: \"CHAdeMO\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 23\n    }\n  }, \"CHAdeMO\"), /*#__PURE__*/React.createElement(MenuItem, {\n    value: \"DB_T\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 23\n    }\n  }, \"DB T\"), /*#__PURE__*/React.createElement(MenuItem, {\n    value: \"GB_T_DC\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 23\n    }\n  }, \"GB T DC\"), /*#__PURE__*/React.createElement(MenuItem, {\n    value: \"Tesla_Supercharger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 23\n    }\n  }, \"Tesla Supercharger\"), /*#__PURE__*/React.createElement(MenuItem, {\n    value: \"Type1_CSS_Combo1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 23\n    }\n  }, \"Type1 CSS Combo1\"), /*#__PURE__*/React.createElement(MenuItem, {\n    value: \"Type1_J1772\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 23\n    }\n  }, \"Type1 J1772\"), /*#__PURE__*/React.createElement(MenuItem, {\n    value: \"Type2_css_combo2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 23\n    }\n  }, \"Type2 css combo2\"), /*#__PURE__*/React.createElement(MenuItem, {\n    value: \"Type2_Mennekes\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 23\n    }\n  }, \"Type2 Mennekes\"))), /*#__PURE__*/React.createElement(TextField, {\n    required: true,\n    error: errors && !registration,\n    id: \"outlined-required\",\n    label: \"Registration number\",\n    name: \"registration\",\n    value: registration,\n    onChange: onChange,\n    variant: \"outlined\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(Box, {\n    className: classes.buttons,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    color: \"primary\",\n    component: \"span\",\n    variant: \"contained\",\n    startIcon: /*#__PURE__*/React.createElement(AddToPhotosIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 32\n      }\n    }),\n    onClick: handlePushPlugin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 19\n    }\n  }, \"Add plugin\"), /*#__PURE__*/React.createElement(Button, {\n    color: \"secondary\",\n    component: \"span\",\n    variant: \"contained\",\n    onClick: handleClearPlugins,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 19\n    }\n  }, \"Clear plugins\")), /*#__PURE__*/React.createElement(Divider, {\n    className: classes.divider,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Box, {\n    className: classes.miniPluginWrapper,\n    justifyContent: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 17\n    }\n  }, plugins.map((plugin, i) => {\n    return /*#__PURE__*/React.createElement(Box, {\n      className: classes.miniPlugin,\n      key: i,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(ChargerIcon, {\n      plugin: plugin,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 25\n      }\n    }));\n  }))))))));\n};\n\nexport default AddVehicle;","map":{"version":3,"sources":["/Users/lukaszzeromski/Desktop/conntected/connected/client/src/components/pages/AddVehicle.jsx"],"names":["React","useEffect","useContext","useState","AuthContext","CarContext","AlertContext","AddCircleIcon","Box","Grid","Paper","TextField","Typography","Divider","Select","MenuItem","InputLabel","FormControl","Button","makeStyles","ChargerIcon","AddToPhotosIcon","useStyles","stationsWrapper","backgroundColor","minHeight","width","topPanel","display","justifyContent","margin","paper","marginTop","height","inner","padding","divider","inputs","formControl","select","button","miniPluginWrapper","flexDirection","miniPlugin","buttons","AddVehicle","props","authContext","alertContext","carContext","classes","setAlert","addCar","loadUser","state","setState","brand","model","registration","plugin","plugins","errors","onChange","e","target","name","value","handleSubmit","length","car","history","push","handlePushPlugin","pluginsPush","handleClearPlugins","map","i"],"mappings":"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","sourcesContent":["import React, { useEffect, useContext, useState } from \"react\";\r\nimport AuthContext from \"../../context/auth/authContext\";\r\nimport CarContext from \"../../context/cars/carContext\";\r\nimport AlertContext from \"../../context/alert/alertContext\";\r\nimport AddCircleIcon from \"@material-ui/icons/AddCircle\";\r\nimport {\r\n  Box,\r\n  Grid,\r\n  Paper,\r\n  TextField,\r\n  Typography,\r\n  Divider,\r\n  Select,\r\n  MenuItem,\r\n  InputLabel,\r\n  FormControl,\r\n  Button,\r\n} from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport ChargerIcon from \"../layout/ChargerIcon\";\r\nimport AddToPhotosIcon from \"@material-ui/icons/AddToPhotos\";\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  stationsWrapper: {\r\n    backgroundColor: \"#f5f5f5\",\r\n    minHeight: \"100vh\",\r\n    width: \"100%\",\r\n  },\r\n  topPanel: {\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n    margin: \"1rem\",\r\n  },\r\n\r\n  paper: {\r\n    marginTop: \"2rem\",\r\n    width: \"100%\",\r\n    height: \"90vh\",\r\n    display: \"flex\",\r\n    justifyContent: \"space-around\",\r\n  },\r\n  inner: {\r\n    padding: \"1rem\",\r\n  },\r\n  divider: {\r\n    margin: \"1rem 0\",\r\n  },\r\n  inputs: {\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n    margin: \"1rem 0\",\r\n  },\r\n  formControl: {\r\n    width: \"50%\",\r\n  },\r\n  select: {\r\n    width: \"12rem\",\r\n  },\r\n  button: {\r\n    width: \"50%\",\r\n  },\r\n  miniPluginWrapper: {\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n  },\r\n  miniPlugin: {\r\n    height: \"3rem\",\r\n  },\r\n  buttons: {\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n  },\r\n}));\r\n\r\nconst AddVehicle = (props) => {\r\n  const authContext = useContext(AuthContext);\r\n  const alertContext = useContext(AlertContext);\r\n  const carContext = useContext(CarContext);\r\n  const classes = useStyles();\r\n\r\n  const { setAlert } = alertContext;\r\n  const { addCar } = carContext;\r\n\r\n  useEffect(() => {\r\n    authContext.loadUser();\r\n    //eslint-disable-next-line\r\n  }, []);\r\n\r\n  const [state, setState] = useState({\r\n    brand: \"\",\r\n    model: \"\",\r\n    registration: \"\",\r\n    plugin: \"\",\r\n    plugins: [],\r\n    errors: false,\r\n  });\r\n\r\n  const { brand, model, registration, plugins, errors, plugin } = state;\r\n\r\n  const onChange = (e) => {\r\n    setState({\r\n      ...state,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  const handleSubmit = () => {\r\n    if (!brand || !model || !registration || plugins.length === 0) {\r\n      setState({ ...state, errors: true });\r\n      return setAlert(\"Please provide required informations\", \"error\");\r\n    }\r\n\r\n    const car = {\r\n      brand,\r\n      model,\r\n      registration,\r\n      plugins,\r\n      errors,\r\n    };\r\n\r\n    addCar(car);\r\n\r\n    props.history.push(\"/my-vehicles\");\r\n    setState({\r\n      brand: \"\",\r\n      model: \"\",\r\n      registration: \"\",\r\n      plugins: [],\r\n      plugin: \"\",\r\n      errors: false,\r\n    });\r\n  };\r\n\r\n  const handlePushPlugin = () => {\r\n    if (plugins.length >= 2) {\r\n      return setAlert(\"Your vehicle can have maximum 2 plugins\", \"error\");\r\n    }\r\n\r\n    let pluginsPush = plugins;\r\n    pluginsPush.push(plugin);\r\n    setState({ ...state, plugins: pluginsPush, plugin: \"\" });\r\n  };\r\n\r\n  const handleClearPlugins = () => {\r\n    setState({ ...state, plugins: [] });\r\n  };\r\n\r\n  return (\r\n    <Box className={classes.stationsWrapper}>\r\n      <Grid container justify=\"center\">\r\n        <Grid item xs={6}>\r\n          <Grid container justify=\"center\">\r\n            <Paper className={classes.paper}>\r\n              <Grid item xs={10} className={classes.inner}>\r\n                <Box className={classes.inputs}>\r\n                  <Typography variant=\"h6\">\r\n                    Provide your vehicle details\r\n                  </Typography>\r\n\r\n                  <Button\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    onClick={handleSubmit}\r\n                    startIcon={<AddCircleIcon />}\r\n                  >\r\n                    Add Vehicle\r\n                  </Button>\r\n                </Box>\r\n                <Divider className={classes.divider} />\r\n                <Box className={classes.inputs}>\r\n                  <TextField\r\n                    required\r\n                    id=\"outlined-required\"\r\n                    label=\"Brand\"\r\n                    name=\"brand\"\r\n                    value={brand}\r\n                    onChange={onChange}\r\n                    variant=\"outlined\"\r\n                    error={errors && !brand}\r\n                  />\r\n                  <TextField\r\n                    required\r\n                    error={errors && !model}\r\n                    id=\"outlined-required\"\r\n                    label=\"Model\"\r\n                    name=\"model\"\r\n                    value={model}\r\n                    onChange={onChange}\r\n                    variant=\"outlined\"\r\n                  />\r\n                </Box>\r\n                <Box className={classes.inputs}>\r\n                  <FormControl\r\n                    variant=\"outlined\"\r\n                    className={classes.formControl}\r\n                  >\r\n                    <InputLabel required id=\"plugin-type\">\r\n                      Plugin\r\n                    </InputLabel>\r\n                    <Select\r\n                      error={errors && plugins.length <= 0}\r\n                      labelId=\"plugin-type\"\r\n                      id=\"plugin-type\"\r\n                      label=\"Plugin\"\r\n                      name=\"plugin\"\r\n                      value={plugin}\r\n                      onChange={onChange}\r\n                      className={classes.select}\r\n                    >\r\n                      <MenuItem value=\"\">\r\n                        <em>None</em>\r\n                      </MenuItem>\r\n                      <MenuItem value=\"American_Standard\">\r\n                        American Standard\r\n                      </MenuItem>\r\n                      <MenuItem value=\"Euro_Standard\">Euro Standard</MenuItem>\r\n                      <MenuItem value=\"CHAdeMO\">CHAdeMO</MenuItem>\r\n                      <MenuItem value=\"DB_T\">DB T</MenuItem>\r\n                      <MenuItem value=\"GB_T_DC\">GB T DC</MenuItem>\r\n                      <MenuItem value=\"Tesla_Supercharger\">\r\n                        Tesla Supercharger\r\n                      </MenuItem>\r\n                      <MenuItem value=\"Type1_CSS_Combo1\">\r\n                        Type1 CSS Combo1\r\n                      </MenuItem>\r\n                      <MenuItem value=\"Type1_J1772\">Type1 J1772</MenuItem>\r\n                      <MenuItem value=\"Type2_css_combo2\">\r\n                        Type2 css combo2\r\n                      </MenuItem>\r\n                      <MenuItem value=\"Type2_Mennekes\">Type2 Mennekes</MenuItem>\r\n                    </Select>\r\n                  </FormControl>\r\n\r\n                  <TextField\r\n                    required\r\n                    error={errors && !registration}\r\n                    id=\"outlined-required\"\r\n                    label=\"Registration number\"\r\n                    name=\"registration\"\r\n                    value={registration}\r\n                    onChange={onChange}\r\n                    variant=\"outlined\"\r\n                  />\r\n                </Box>\r\n                <Box className={classes.buttons}>\r\n                  <Button\r\n                    color=\"primary\"\r\n                    component=\"span\"\r\n                    variant=\"contained\"\r\n                    startIcon={<AddToPhotosIcon />}\r\n                    onClick={handlePushPlugin}\r\n                  >\r\n                    Add plugin\r\n                  </Button>\r\n                  <Button\r\n                    color=\"secondary\"\r\n                    component=\"span\"\r\n                    variant=\"contained\"\r\n                    onClick={handleClearPlugins}\r\n                  >\r\n                    Clear plugins\r\n                  </Button>\r\n                </Box>\r\n                <Divider className={classes.divider} />\r\n                <Box\r\n                  className={classes.miniPluginWrapper}\r\n                  justifyContent=\"center\"\r\n                >\r\n                  {plugins.map((plugin, i) => {\r\n                    return (\r\n                      <Box className={classes.miniPlugin} key={i}>\r\n                        <ChargerIcon plugin={plugin} />\r\n                      </Box>\r\n                    );\r\n                  })}\r\n                </Box>\r\n              </Grid>\r\n            </Paper>\r\n          </Grid>\r\n        </Grid>\r\n      </Grid>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default AddVehicle;\r\n"]},"metadata":{},"sourceType":"module"}