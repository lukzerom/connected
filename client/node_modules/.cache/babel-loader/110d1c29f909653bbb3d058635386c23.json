{"ast":null,"code":"var _jsxFileName = \"/Users/lukaszzeromski/Desktop/conntected/connected/client/src/components/pages/EditStation.jsx\";\nimport React, { useEffect, useContext, useState } from \"react\";\nimport AuthContext from \"../../context/auth/authContext\";\nimport setAuthToken from \"../../utils/setAuthToken\";\nimport StationContext from \"../../context/stations/stationContext\";\nimport AlertContext from \"../../context/alert/alertContext\";\nimport { Box, Grid, Paper, TextField, Typography, Divider, Select, MenuItem, InputLabel, FormControl, FormControlLabel, Checkbox, Button } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport AddStationMap from \"../layout/AddStationMap\";\nimport MapIcon from \"@material-ui/icons/Map\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport utf8 from \"utf8\";\nconst useStyles = makeStyles(theme => ({\n  stationsWrapper: {\n    backgroundColor: \"#f5f5f5\",\n    minHeight: \"100vh\",\n    width: \"100%\"\n  },\n  topPanel: {\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    margin: \"1rem\"\n  },\n  paper: {\n    marginTop: \"2rem\",\n    width: \"100%\",\n    height: \"90vh\",\n    display: \"flex\",\n    justifyContent: \"space-around\"\n  },\n  inner: {\n    padding: \"1rem\"\n  },\n  divider: {\n    margin: \"1rem 0\"\n  },\n  inputs: {\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    margin: \"1rem 0\"\n  },\n  formControl: {\n    width: \"50%\"\n  },\n  select: {\n    width: \"10rem\"\n  },\n  button: {\n    width: \"50%\"\n  }\n}));\n\nconst EditStation = props => {\n  const authContext = useContext(AuthContext);\n  const stationContext = useContext(StationContext);\n  const alertContext = useContext(AlertContext);\n  const classes = useStyles();\n  const {\n    token\n  } = authContext;\n  const {\n    setAlert\n  } = alertContext;\n  const {\n    getUserStations,\n    markerPosition,\n    setMarkerPosition,\n    editStation,\n    updateStation,\n    getLatLang\n  } = stationContext;\n  useEffect(() => {\n    authContext.loadUser();\n    getUserStations();\n    setMarkerPosition([editStation.latitude, editStation.longitude]); //eslint-disable-next-line\n  }, []);\n  const [state, setState] = useState({\n    id: editStation._id,\n    name: editStation.name,\n    country: editStation.country,\n    city: editStation.city,\n    streetName: editStation.street,\n    streetNumber: editStation.streetNumber,\n    pictureUrl: editStation.picture,\n    longitude: editStation.longitude,\n    latitude: editStation.latitude,\n    price: editStation.price,\n    plugin: editStation.plugin,\n    extras: [],\n    drive: editStation.additives.includes(\"Drive\"),\n    bed: editStation.additives.includes(\"Bed\"),\n    bike: editStation.additives.includes(\"Bike\"),\n    coffee: editStation.additives.includes(\"Coffee\"),\n    bus: editStation.additives.includes(\"Bus\"),\n    errors: false\n  });\n  const {\n    id,\n    name,\n    country,\n    city,\n    streetName,\n    streetNumber,\n    pictureUrl,\n    price,\n    plugin,\n    drive,\n    bed,\n    bike,\n    coffee,\n    bus,\n    errors\n  } = state;\n\n  const onChange = e => {\n    setState({ ...state,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const onExtrasChange = e => {\n    setState({ ...state,\n      [e.target.name]: e.target.checked\n    });\n  };\n\n  const getLatLangLocal = async () => {\n    const adress = `${streetName}+${streetNumber}+${city}+${country}`;\n    const cleanAdress = utf8.encode(adress.replace(\"/\", \"+\"));\n    getLatLang(cleanAdress);\n  };\n\n  const handleSubmit = () => {\n    setAuthToken(token);\n    let extras = [];\n    if (drive) extras.push(\"Drive\");\n    if (bed) extras.push(\"Bed\");\n    if (bike) extras.push(\"Bike\");\n    if (coffee) extras.push(\"Coffee\");\n    if (bus) extras.push(\"Bus\");\n\n    if (!name || !country || !city || !streetName || !streetNumber || !plugin) {\n      setState({ ...state,\n        errors: true\n      });\n      return setAlert(\"Please provide required informations\", \"error\");\n    }\n\n    const station = {\n      id,\n      name,\n      country,\n      city,\n      street: streetName,\n      streetNumber,\n      picture: pictureUrl,\n      price,\n      plugin,\n      latitude: markerPosition.lat,\n      longitude: markerPosition.lng,\n      additives: extras\n    };\n    updateStation(station);\n    props.history.push(\"/my-stations\");\n    setState({\n      name: \"\",\n      country: \"\",\n      city: \"\",\n      streetName: \"\",\n      streetNumber: \"\",\n      pictureUrl: \"\",\n      longitude: 0,\n      latitude: 0,\n      price: 0,\n      plugin: \"\",\n      extras: [],\n      drive: false,\n      bed: false,\n      bike: false,\n      coffee: false,\n      bus: false\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(Box, {\n    className: classes.stationsWrapper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    justify: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 10,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    justify: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Paper, {\n    className: classes.paper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 5,\n    className: classes.inner,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    className: classes.inputs,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 19\n    }\n  }, \"Provide your station details\"), /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    onClick: handleSubmit,\n    startIcon: /*#__PURE__*/React.createElement(EditIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 32\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 19\n    }\n  }, \"Save Changes\")), /*#__PURE__*/React.createElement(Divider, {\n    className: classes.divider,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    required: true,\n    id: \"outlined-required\",\n    label: \"Station name\",\n    name: \"name\",\n    value: name,\n    onChange: onChange,\n    variant: \"outlined\",\n    fullWidth: true,\n    error: errors && !name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Box, {\n    className: classes.inputs,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    required: true,\n    error: errors && !country,\n    id: \"outlined-required\",\n    label: \"Country\",\n    name: \"country\",\n    value: country,\n    onChange: onChange,\n    variant: \"outlined\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    required: true,\n    error: errors && !city,\n    id: \"outlined-required\",\n    label: \"City\",\n    name: \"city\",\n    value: city,\n    onChange: onChange,\n    variant: \"outlined\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(Box, {\n    className: classes.inputs,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    required: true,\n    error: errors && !streetName,\n    id: \"outlined-required\",\n    label: \"Street Name\",\n    name: \"streetName\",\n    value: streetName,\n    onChange: onChange,\n    variant: \"outlined\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    required: true,\n    error: errors && !streetNumber,\n    id: \"outlined-required\",\n    label: \"Street Number\",\n    name: \"streetNumber\",\n    value: streetNumber,\n    onChange: onChange,\n    variant: \"outlined\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(Box, {\n    className: classes.inputs,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    id: \"outlined-required\",\n    label: \"Picture URL\",\n    name: \"pictureUrl\",\n    value: pictureUrl,\n    onChange: onChange,\n    variant: \"outlined\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    required: true,\n    id: \"outlined-required\",\n    label: \"Price EUR / h\",\n    value: price,\n    name: \"price\",\n    onChange: onChange,\n    variant: \"outlined\",\n    type: \"number\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(Box, {\n    className: classes.inputs,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(FormControl, {\n    variant: \"outlined\",\n    className: classes.formControl,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(InputLabel, {\n    required: true,\n    id: \"charger-type\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 21\n    }\n  }, \"Charger\"), /*#__PURE__*/React.createElement(Select, {\n    error: errors && !plugin,\n    labelId: \"charger-type\",\n    id: \"charger-type\",\n    label: \"Charger\",\n    name: \"plugin\",\n    value: plugin,\n    onChange: onChange,\n    className: classes.select,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(MenuItem, {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"em\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 25\n    }\n  }, \"None\")), /*#__PURE__*/React.createElement(MenuItem, {\n    value: \"American_Standard\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 322,\n      columnNumber: 23\n    }\n  }, \"American Standard\"), /*#__PURE__*/React.createElement(MenuItem, {\n    value: \"Euro_Standard\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 23\n    }\n  }, \"Euro Standard\"), /*#__PURE__*/React.createElement(MenuItem, {\n    value: \"CHAdeMO\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 326,\n      columnNumber: 23\n    }\n  }, \"CHAdeMO\"), /*#__PURE__*/React.createElement(MenuItem, {\n    value: \"DB_T\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 327,\n      columnNumber: 23\n    }\n  }, \"DB T\"), /*#__PURE__*/React.createElement(MenuItem, {\n    value: \"GB_T_DC\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 328,\n      columnNumber: 23\n    }\n  }, \"GB T DC\"), /*#__PURE__*/React.createElement(MenuItem, {\n    value: \"Tesla_Supercharger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 329,\n      columnNumber: 23\n    }\n  }, \"Tesla Supercharger\"), /*#__PURE__*/React.createElement(MenuItem, {\n    value: \"Type1_CSS_Combo1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 23\n    }\n  }, \"Type1 CSS Combo1\"), /*#__PURE__*/React.createElement(MenuItem, {\n    value: \"Type1_J1772\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 335,\n      columnNumber: 23\n    }\n  }, \"Type1 J1772\"), /*#__PURE__*/React.createElement(MenuItem, {\n    value: \"Type2_css_combo2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 336,\n      columnNumber: 23\n    }\n  }, \"Type2 css combo2\"), /*#__PURE__*/React.createElement(MenuItem, {\n    value: \"Type2_Mennekes\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 23\n    }\n  }, \"Type2 Mennekes\"))), /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    onClick: getLatLangLocal,\n    startIcon: /*#__PURE__*/React.createElement(MapIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 345,\n        columnNumber: 32\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 342,\n      columnNumber: 19\n    }\n  }, \"Find on map\")), /*#__PURE__*/React.createElement(Divider, {\n    className: classes.divider,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 350,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 351,\n      columnNumber: 17\n    }\n  }, \"Extras\"), /*#__PURE__*/React.createElement(FormControlLabel, {\n    control: /*#__PURE__*/React.createElement(Checkbox, {\n      name: \"bike\",\n      color: \"primary\",\n      checked: bike,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 354,\n        columnNumber: 21\n      }\n    }),\n    label: \"Bike rent\",\n    onChange: onExtrasChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 352,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(FormControlLabel, {\n    control: /*#__PURE__*/React.createElement(Checkbox, {\n      name: \"coffee\",\n      color: \"primary\",\n      checked: coffee,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 361,\n        columnNumber: 21\n      }\n    }),\n    label: \"Coffee\",\n    onChange: onExtrasChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 359,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(FormControlLabel, {\n    control: /*#__PURE__*/React.createElement(Checkbox, {\n      name: \"bed\",\n      color: \"primary\",\n      checked: bed,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 368,\n        columnNumber: 21\n      }\n    }),\n    label: \"Bed\",\n    onChange: onExtrasChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(FormControlLabel, {\n    control: /*#__PURE__*/React.createElement(Checkbox, {\n      name: \"drive\",\n      color: \"primary\",\n      checked: drive,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 21\n      }\n    }),\n    label: \"Drive\",\n    onChange: onExtrasChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 373,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(FormControlLabel, {\n    control: /*#__PURE__*/React.createElement(Checkbox, {\n      name: \"bus\",\n      color: \"primary\",\n      checked: bus,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 382,\n        columnNumber: 21\n      }\n    }),\n    label: \"Bus station\",\n    onChange: onExtrasChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 380,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Divider, {\n    className: classes.divider,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 387,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 5,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 389,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(AddStationMap, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 390,\n      columnNumber: 17\n    }\n  })))))));\n};\n\nexport default EditStation;","map":{"version":3,"sources":["/Users/lukaszzeromski/Desktop/conntected/connected/client/src/components/pages/EditStation.jsx"],"names":["React","useEffect","useContext","useState","AuthContext","setAuthToken","StationContext","AlertContext","Box","Grid","Paper","TextField","Typography","Divider","Select","MenuItem","InputLabel","FormControl","FormControlLabel","Checkbox","Button","makeStyles","AddStationMap","MapIcon","EditIcon","utf8","useStyles","theme","stationsWrapper","backgroundColor","minHeight","width","topPanel","display","justifyContent","margin","paper","marginTop","height","inner","padding","divider","inputs","formControl","select","button","EditStation","props","authContext","stationContext","alertContext","classes","token","setAlert","getUserStations","markerPosition","setMarkerPosition","editStation","updateStation","getLatLang","loadUser","latitude","longitude","state","setState","id","_id","name","country","city","streetName","street","streetNumber","pictureUrl","picture","price","plugin","extras","drive","additives","includes","bed","bike","coffee","bus","errors","onChange","e","target","value","onExtrasChange","checked","getLatLangLocal","adress","cleanAdress","encode","replace","handleSubmit","push","station","lat","lng","history"],"mappings":"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","sourcesContent":["import React, { useEffect, useContext, useState } from \"react\";\r\nimport AuthContext from \"../../context/auth/authContext\";\r\nimport setAuthToken from \"../../utils/setAuthToken\";\r\nimport StationContext from \"../../context/stations/stationContext\";\r\nimport AlertContext from \"../../context/alert/alertContext\";\r\nimport {\r\n  Box,\r\n  Grid,\r\n  Paper,\r\n  TextField,\r\n  Typography,\r\n  Divider,\r\n  Select,\r\n  MenuItem,\r\n  InputLabel,\r\n  FormControl,\r\n  FormControlLabel,\r\n  Checkbox,\r\n  Button,\r\n} from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport AddStationMap from \"../layout/AddStationMap\";\r\nimport MapIcon from \"@material-ui/icons/Map\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport utf8 from \"utf8\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  stationsWrapper: {\r\n    backgroundColor: \"#f5f5f5\",\r\n    minHeight: \"100vh\",\r\n    width: \"100%\",\r\n  },\r\n  topPanel: {\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n    margin: \"1rem\",\r\n  },\r\n\r\n  paper: {\r\n    marginTop: \"2rem\",\r\n    width: \"100%\",\r\n    height: \"90vh\",\r\n    display: \"flex\",\r\n    justifyContent: \"space-around\",\r\n  },\r\n  inner: {\r\n    padding: \"1rem\",\r\n  },\r\n  divider: {\r\n    margin: \"1rem 0\",\r\n  },\r\n  inputs: {\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n    margin: \"1rem 0\",\r\n  },\r\n  formControl: {\r\n    width: \"50%\",\r\n  },\r\n  select: {\r\n    width: \"10rem\",\r\n  },\r\n  button: {\r\n    width: \"50%\",\r\n  },\r\n}));\r\n\r\nconst EditStation = (props) => {\r\n  const authContext = useContext(AuthContext);\r\n  const stationContext = useContext(StationContext);\r\n  const alertContext = useContext(AlertContext);\r\n  const classes = useStyles();\r\n\r\n  const { token } = authContext;\r\n  const { setAlert } = alertContext;\r\n  const {\r\n    getUserStations,\r\n    markerPosition,\r\n    setMarkerPosition,\r\n    editStation,\r\n    updateStation,\r\n    getLatLang,\r\n  } = stationContext;\r\n\r\n  useEffect(() => {\r\n    authContext.loadUser();\r\n    getUserStations();\r\n    setMarkerPosition([editStation.latitude, editStation.longitude]);\r\n    //eslint-disable-next-line\r\n  }, []);\r\n\r\n  const [state, setState] = useState({\r\n    id: editStation._id,\r\n    name: editStation.name,\r\n    country: editStation.country,\r\n    city: editStation.city,\r\n    streetName: editStation.street,\r\n    streetNumber: editStation.streetNumber,\r\n    pictureUrl: editStation.picture,\r\n    longitude: editStation.longitude,\r\n    latitude: editStation.latitude,\r\n    price: editStation.price,\r\n    plugin: editStation.plugin,\r\n    extras: [],\r\n    drive: editStation.additives.includes(\"Drive\"),\r\n    bed: editStation.additives.includes(\"Bed\"),\r\n    bike: editStation.additives.includes(\"Bike\"),\r\n    coffee: editStation.additives.includes(\"Coffee\"),\r\n    bus: editStation.additives.includes(\"Bus\"),\r\n    errors: false,\r\n  });\r\n\r\n  const {\r\n    id,\r\n    name,\r\n    country,\r\n    city,\r\n    streetName,\r\n    streetNumber,\r\n    pictureUrl,\r\n    price,\r\n    plugin,\r\n    drive,\r\n    bed,\r\n    bike,\r\n    coffee,\r\n    bus,\r\n    errors,\r\n  } = state;\r\n\r\n  const onChange = (e) => {\r\n    setState({\r\n      ...state,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  const onExtrasChange = (e) => {\r\n    setState({\r\n      ...state,\r\n      [e.target.name]: e.target.checked,\r\n    });\r\n  };\r\n\r\n  const getLatLangLocal = async () => {\r\n    const adress = `${streetName}+${streetNumber}+${city}+${country}`;\r\n    const cleanAdress = utf8.encode(adress.replace(\"/\", \"+\"));\r\n\r\n    getLatLang(cleanAdress);\r\n  };\r\n\r\n  const handleSubmit = () => {\r\n    setAuthToken(token);\r\n    let extras = [];\r\n\r\n    if (drive) extras.push(\"Drive\");\r\n    if (bed) extras.push(\"Bed\");\r\n    if (bike) extras.push(\"Bike\");\r\n    if (coffee) extras.push(\"Coffee\");\r\n    if (bus) extras.push(\"Bus\");\r\n\r\n    if (!name || !country || !city || !streetName || !streetNumber || !plugin) {\r\n      setState({ ...state, errors: true });\r\n      return setAlert(\"Please provide required informations\", \"error\");\r\n    }\r\n\r\n    const station = {\r\n      id,\r\n      name,\r\n      country,\r\n      city,\r\n      street: streetName,\r\n      streetNumber,\r\n      picture: pictureUrl,\r\n      price,\r\n      plugin,\r\n      latitude: markerPosition.lat,\r\n      longitude: markerPosition.lng,\r\n      additives: extras,\r\n    };\r\n\r\n    updateStation(station);\r\n\r\n    props.history.push(\"/my-stations\");\r\n    setState({\r\n      name: \"\",\r\n      country: \"\",\r\n      city: \"\",\r\n      streetName: \"\",\r\n      streetNumber: \"\",\r\n      pictureUrl: \"\",\r\n      longitude: 0,\r\n      latitude: 0,\r\n      price: 0,\r\n      plugin: \"\",\r\n      extras: [],\r\n      drive: false,\r\n      bed: false,\r\n      bike: false,\r\n      coffee: false,\r\n      bus: false,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Box className={classes.stationsWrapper}>\r\n      <Grid container justify=\"center\">\r\n        <Grid item xs={10}>\r\n          <Grid container justify=\"center\">\r\n            <Paper className={classes.paper}>\r\n              <Grid item xs={5} className={classes.inner}>\r\n                <Box className={classes.inputs}>\r\n                  <Typography variant=\"h6\">\r\n                    Provide your station details\r\n                  </Typography>\r\n                  <Button\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    onClick={handleSubmit}\r\n                    startIcon={<EditIcon />}\r\n                  >\r\n                    Save Changes\r\n                  </Button>\r\n                </Box>\r\n                <Divider className={classes.divider} />\r\n                <TextField\r\n                  required\r\n                  id=\"outlined-required\"\r\n                  label=\"Station name\"\r\n                  name=\"name\"\r\n                  value={name}\r\n                  onChange={onChange}\r\n                  variant=\"outlined\"\r\n                  fullWidth\r\n                  error={errors && !name}\r\n                />\r\n                <Box className={classes.inputs}>\r\n                  <TextField\r\n                    required\r\n                    error={errors && !country}\r\n                    id=\"outlined-required\"\r\n                    label=\"Country\"\r\n                    name=\"country\"\r\n                    value={country}\r\n                    onChange={onChange}\r\n                    variant=\"outlined\"\r\n                  />\r\n                  <TextField\r\n                    required\r\n                    error={errors && !city}\r\n                    id=\"outlined-required\"\r\n                    label=\"City\"\r\n                    name=\"city\"\r\n                    value={city}\r\n                    onChange={onChange}\r\n                    variant=\"outlined\"\r\n                  />\r\n                </Box>\r\n                <Box className={classes.inputs}>\r\n                  <TextField\r\n                    required\r\n                    error={errors && !streetName}\r\n                    id=\"outlined-required\"\r\n                    label=\"Street Name\"\r\n                    name=\"streetName\"\r\n                    value={streetName}\r\n                    onChange={onChange}\r\n                    variant=\"outlined\"\r\n                  />\r\n                  <TextField\r\n                    required\r\n                    error={errors && !streetNumber}\r\n                    id=\"outlined-required\"\r\n                    label=\"Street Number\"\r\n                    name=\"streetNumber\"\r\n                    value={streetNumber}\r\n                    onChange={onChange}\r\n                    variant=\"outlined\"\r\n                  />\r\n                </Box>\r\n                <Box className={classes.inputs}>\r\n                  <TextField\r\n                    id=\"outlined-required\"\r\n                    label=\"Picture URL\"\r\n                    name=\"pictureUrl\"\r\n                    value={pictureUrl}\r\n                    onChange={onChange}\r\n                    variant=\"outlined\"\r\n                  />\r\n                  <TextField\r\n                    required\r\n                    id=\"outlined-required\"\r\n                    label=\"Price EUR / h\"\r\n                    value={price}\r\n                    name=\"price\"\r\n                    onChange={onChange}\r\n                    variant=\"outlined\"\r\n                    type=\"number\"\r\n                  />\r\n                </Box>\r\n                <Box className={classes.inputs}>\r\n                  <FormControl\r\n                    variant=\"outlined\"\r\n                    className={classes.formControl}\r\n                  >\r\n                    <InputLabel required id=\"charger-type\">\r\n                      Charger\r\n                    </InputLabel>\r\n                    <Select\r\n                      error={errors && !plugin}\r\n                      labelId=\"charger-type\"\r\n                      id=\"charger-type\"\r\n                      label=\"Charger\"\r\n                      name=\"plugin\"\r\n                      value={plugin}\r\n                      onChange={onChange}\r\n                      className={classes.select}\r\n                    >\r\n                      <MenuItem value=\"\">\r\n                        <em>None</em>\r\n                      </MenuItem>\r\n                      <MenuItem value=\"American_Standard\">\r\n                        American Standard\r\n                      </MenuItem>\r\n                      <MenuItem value=\"Euro_Standard\">Euro Standard</MenuItem>\r\n                      <MenuItem value=\"CHAdeMO\">CHAdeMO</MenuItem>\r\n                      <MenuItem value=\"DB_T\">DB T</MenuItem>\r\n                      <MenuItem value=\"GB_T_DC\">GB T DC</MenuItem>\r\n                      <MenuItem value=\"Tesla_Supercharger\">\r\n                        Tesla Supercharger\r\n                      </MenuItem>\r\n                      <MenuItem value=\"Type1_CSS_Combo1\">\r\n                        Type1 CSS Combo1\r\n                      </MenuItem>\r\n                      <MenuItem value=\"Type1_J1772\">Type1 J1772</MenuItem>\r\n                      <MenuItem value=\"Type2_css_combo2\">\r\n                        Type2 css combo2\r\n                      </MenuItem>\r\n                      <MenuItem value=\"Type2_Mennekes\">Type2 Mennekes</MenuItem>\r\n                    </Select>\r\n                  </FormControl>\r\n                  <Button\r\n                    variant=\"contained\"\r\n                    onClick={getLatLangLocal}\r\n                    startIcon={<MapIcon />}\r\n                  >\r\n                    Find on map\r\n                  </Button>\r\n                </Box>\r\n                <Divider className={classes.divider} />\r\n                <Typography variant=\"h6\">Extras</Typography>\r\n                <FormControlLabel\r\n                  control={\r\n                    <Checkbox name=\"bike\" color=\"primary\" checked={bike} />\r\n                  }\r\n                  label=\"Bike rent\"\r\n                  onChange={onExtrasChange}\r\n                />\r\n                <FormControlLabel\r\n                  control={\r\n                    <Checkbox name=\"coffee\" color=\"primary\" checked={coffee} />\r\n                  }\r\n                  label=\"Coffee\"\r\n                  onChange={onExtrasChange}\r\n                />\r\n                <FormControlLabel\r\n                  control={\r\n                    <Checkbox name=\"bed\" color=\"primary\" checked={bed} />\r\n                  }\r\n                  label=\"Bed\"\r\n                  onChange={onExtrasChange}\r\n                />\r\n                <FormControlLabel\r\n                  control={\r\n                    <Checkbox name=\"drive\" color=\"primary\" checked={drive} />\r\n                  }\r\n                  label=\"Drive\"\r\n                  onChange={onExtrasChange}\r\n                />\r\n                <FormControlLabel\r\n                  control={\r\n                    <Checkbox name=\"bus\" color=\"primary\" checked={bus} />\r\n                  }\r\n                  label=\"Bus station\"\r\n                  onChange={onExtrasChange}\r\n                />\r\n                <Divider className={classes.divider} />\r\n              </Grid>\r\n              <Grid item xs={5}>\r\n                <AddStationMap />\r\n              </Grid>\r\n            </Paper>\r\n          </Grid>\r\n        </Grid>\r\n      </Grid>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default EditStation;\r\n"]},"metadata":{},"sourceType":"module"}